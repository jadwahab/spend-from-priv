(window["webpackJsonpspend-from-priv"]=window["webpackJsonpspend-from-priv"]||[]).push([[0],{378:function(e,t,n){e.exports=n(752)},383:function(e,t,n){},388:function(e,t){},397:function(e,t){},418:function(e,t){},420:function(e,t){},517:function(e,t){},519:function(e,t){},542:function(e,t){},752:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(84),i=n.n(o),s=(n(383),n(87)),c=n.n(s),l=n(55),u=n(102),p=n(103),d=n(104),h=n(105),m=n(73),y=n(106),b=n(173),v=n(134),f=n(763),g=n(767),w=n(765),k=n(764),x=n(108),P=n.n(x),C=n(226),O=n.n(C);function S(e){return j.apply(this,arguments)}function j(){return(j=Object(b.a)(c.a.mark((function e(t){var n,a,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},uri:"https://api.bitindex.network/api/addrs/utxo",body:{addrs:t},json:!0,timeout:5e3},e.prev=1,e.next=4,O()(n);case 4:for((a=e.sent).sort((function(e,t){return t.confirmations-e.confirmations})),r=[],o=0;o<a.length;o++)!0,r.push(new P.a.Transaction.UnspentOutput({address:a[o].address,script:P.a.Script(a[o].script),satoshis:a[o].satoshis,outputIndex:a[o].outputIndex,txid:a[o].txid}));return e.abrupt("return",r);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function K(e){return E.apply(this,arguments)}function E(){return(E=Object(b.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},uri:"https://api.whatsonchain.com/v1/bsv/main/tx/raw",body:{txhex:t},json:!0,timeout:5e3},e.prev=1,e.next=4,O()(n);case 4:return a=e.sent,console.log("WOC response"),console.log(a),e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}var F=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){n.setState(Object(l.a)({},e.target.name,e.target.value))},n.handleSubmit=function(){var e=Object(b.a)(c.a.mark((function e(t){var a,r,o,i,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&t.preventDefault(),n.setState({loading:!0});try{a=new P.a.PrivateKey(n.state.privkey),r=a.toPublicKey(),n.setState({properFormatPrivKey:!0})}catch(c){n.setState({properFormatPrivKey:!1})}try{o=new P.a.Address.fromString(n.state.pubkey),n.setState({properFormatPubKey:!0})}catch(c){n.setState({properFormatPubKey:!1})}if(!a||!o){e.next=23;break}return e.next=7,S(r.toAddress().toString());case 7:return i=e.sent,console.log("UTXOS:"),console.log(i),s=(new P.a.Transaction).from(i).change(o).sign(a),console.log("Tx:"),console.log(s.toString()),e.prev=13,e.next=16,K(s.toString());case 16:l=e.sent,n.setState({broadcastResponse:l}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(13),console.log("WOC broadcast error");case 23:n.setState({loading:!1});case 24:case"end":return e.stop()}}),e,null,[[13,20]])})));return function(t){return e.apply(this,arguments)}}(),n.state={privkey:"",pubkey:"",WOClink:"",value:"",properFormatPubKey:!0,properFormatPrivKey:!0,broadcastResponse:"",loading:!1},n.handleChange=n.handleChange.bind(Object(m.a)(n)),n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"displayFormatLabelPrivKey",value:function(){return this.state.properFormatPrivKey?"":r.a.createElement(v.a,{basic:!0,color:"red",pointing:"below"},"Please enter a valid private key")}},{key:"displayFormatLabelPubKey",value:function(){return this.state.properFormatPubKey?"":r.a.createElement(v.a,{basic:!0,color:"red",pointing:"below"},"Please enter a valid public key in compressed form")}},{key:"displayWOCLink",value:function(){return""===this.state.broadcastResponse?"":r.a.createElement("div",null,r.a.createElement(f.a,{hidden:!0}),r.a.createElement("a",{className:"btn btn-primary",target:"_blank",href:"https://www.whatsonchain.com/tx/".concat(this.state.broadcastResponse)},"What's on chain!"))}},{key:"render",value:function(){var e=this;return r.a.createElement(g.a,{textAlign:"center",style:{height:"50vh"},verticalAlign:"middle"},r.a.createElement(g.a.Column,{style:{maxWidth:675}},r.a.createElement(w.a,null,this.displayFormatLabelPrivKey(),r.a.createElement(k.a,{placeholder:"Private Key",style:{justifyContent:"center",width:"535px"},onChange:this.handleChange,name:"privkey"}),r.a.createElement(f.a,null),this.displayFormatLabelPubKey(),r.a.createElement(k.a,{action:{content:"Create Tx",onClick:function(){return e.handleSubmit()}},placeholder:"Send Bitcoin Address (P2PKH)",style:{justifyContent:"center",width:"535px"},onChange:this.handleChange,name:"pubkey"})),this.state.loading?"loading...":"",this.displayWOCLink()))}}]),t}(a.Component);n(751);var T=function(){return r.a.createElement(F,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[378,1,2]]]);
//# sourceMappingURL=main.1b2f2a18.chunk.js.map